<?xml version="1.0" encoding="utf-8" ?>
<Defs>

    <AbilityDef>
        <defName>DR_FireBurst</defName>
        <label>fire burst</label>
        <description>Overdrive orbs cause explosion and set fire on ground.</description>
        <jobDef>CastAbilityOnThingWithoutWeapon</jobDef>
        <iconPath>UI/Abilities/FireBurst</iconPath>
        <cooldownTicksRange>60000</cooldownTicksRange>
        <sendMessageOnCooldownComplete>true</sendMessageOnCooldownComplete>
        <aiCanUse>true</aiCanUse>
        <ai_SearchAOEForTargets>true</ai_SearchAOEForTargets>
        <targetRequired>false</targetRequired>
        <showCastingProgressBar>true</showCastingProgressBar>

        <displayGizmoWhileUndrafted>false</displayGizmoWhileUndrafted>
        <disableGizmoWhileUndrafted>true</disableGizmoWhileUndrafted>
        <verbProperties>
          <verbClass>Verb_CastAbility</verbClass>
          <warmupEffecter>Fire_Burst_Warmup</warmupEffecter>
          <warmupTime>1.5</warmupTime>
          <requireLineOfSight>false</requireLineOfSight>
          <range>8</range>
          <drawAimPie>false</drawAimPie>      
          <targetParams>
            <canTargetSelf>true</canTargetSelf>
          </targetParams>
        </verbProperties>
        <comps>
          <li Class="rimworld_drm.CompProperties_AbilityDRM_FireBurst">
            <radius>8</radius>
          </li>
        </comps>
      </AbilityDef> 

      <AbilityDef ParentName="RoleAuraBuffBase">
        <defName>DRM_HealBreakOut</defName>
        <label>Heal BreakOut</label>
        <description>Overdrive orbs.Heal wound in insane speed.</description>
        <iconPath>UI/Abilities/ImmunityDrive</iconPath>
        <warmupMoteSocialSymbol>UI/Abilities/ImmunityDrive</warmupMoteSocialSymbol>
        <cooldownTicksRange>60000</cooldownTicksRange>
        <sendMessageOnCooldownComplete>true</sendMessageOnCooldownComplete>
        <aiCanUse>false</aiCanUse>
        <showCastingProgressBar>true</showCastingProgressBar>

        <displayGizmoWhileUndrafted>false</displayGizmoWhileUndrafted>
        <disableGizmoWhileUndrafted>true</disableGizmoWhileUndrafted>
        <statBases>
          <Ability_Duration>150</Ability_Duration>
          <Ability_EffectRadius>0</Ability_EffectRadius>
        </statBases>
        <verbProperties>
         <range>0</range>
        </verbProperties>
        <comps>
          <li Class="CompProperties_AbilityGiveHediff">
            <compClass>CompAbilityEffect_GiveHediff</compClass>
            <hediffDef>DRM_HealBreakOut</hediffDef>
            <onlyApplyToSelf>True</onlyApplyToSelf>
            <replaceExisting>true</replaceExisting>
          </li>
        </comps>
      </AbilityDef>

      <AbilityDef>
        <defName>DR_FleshmelterBolt</defName>
        <label>fleshmelter bolt</label>
        <description>Launch a large bolt of energy which generates a high-temperature explosion.</description>
        <writeCombatLog>True</writeCombatLog>
        <showPsycastEffects>False</showPsycastEffects>
        <cooldownTicksRange>120~240</cooldownTicksRange> <!-- 2 to 4 seconds -->
        <verbProperties>
          <verbClass>Verb_ShootBeam</verbClass>
          <hasStandardCommand>true</hasStandardCommand>
          <warmupTime>1.0</warmupTime>
          <range>24.9</range>
          <minRange>3.9</minRange>
          <beamFullWidthRange>6.9</beamFullWidthRange>
          <burstShotCount>5</burstShotCount>
          <showBurstShotStats>false</showBurstShotStats>
          <beamWidth>12</beamWidth>
          <ticksBetweenBurstShots>22</ticksBetweenBurstShots>
          <beamDamageDef>NociosphereVaporize</beamDamageDef>
          <soundCastTail>GunTail_Medium</soundCastTail>
          <muzzleFlashScale>9</muzzleFlashScale>
          <soundCastBeam>BeamGraser_Shooting</soundCastBeam>
          <beamGroundFleckDef>Fleck_BeamBurn</beamGroundFleckDef>
          <beamFleckChancePerTick>0.32</beamFleckChancePerTick>
          <beamMaxDeviation>1.5</beamMaxDeviation>
          <beamCurvature>0.6</beamCurvature>
          <beamMoteDef>Mote_GraserBeamBase</beamMoteDef>
          <beamEndEffecterDef>GraserBeam_End</beamEndEffecterDef>
          <beamChanceToStartFire>0.85</beamChanceToStartFire>
          <beamChanceToAttachFire>0.85</beamChanceToAttachFire>
          <beamFireSizeRange>0.55~0.85</beamFireSizeRange>
          <beamLineFleckDef>Fleck_BeamSpark</beamLineFleckDef>
          <beamStartOffset>0.8</beamStartOffset>
          <beamLineFleckChanceCurve>
            <points>
              <li>(0, 0)</li>
              <li>(0.65, 0.4)</li>
              <li>(1, 0.75)</li>
            </points>
          </beamLineFleckChanceCurve>
          
          <targetParams>
            <canTargetLocations>true</canTargetLocations>
            <canTargetSelf>true</canTargetSelf>
            <canTargetPawns>true</canTargetPawns>
            <canTargetBuildings>true</canTargetBuildings>
            <canTargetPlants>true</canTargetPlants>
          </targetParams>
        </verbProperties>
      </AbilityDef>

</Defs>