<?xml version="1.0" encoding="utf-8" ?>
<Defs>

    <AbilityDef>
        <defName>DR_FireBurst</defName>
        <label>fire burst</label>
        <description>Overdrive orbs cause explosion and set fire on ground.</description>
        <jobDef>CastAbilityOnThingWithoutWeapon</jobDef>
        <iconPath>UI/Abilities/FireBurst</iconPath>
        <cooldownTicksRange>60000</cooldownTicksRange>
        <sendMessageOnCooldownComplete>true</sendMessageOnCooldownComplete>
        <aiCanUse>true</aiCanUse>
        <ai_SearchAOEForTargets>true</ai_SearchAOEForTargets>
        <targetRequired>false</targetRequired>
        <showCastingProgressBar>true</showCastingProgressBar>

        <displayGizmoWhileUndrafted>false</displayGizmoWhileUndrafted>
        <disableGizmoWhileUndrafted>true</disableGizmoWhileUndrafted>
        <verbProperties>
          <verbClass>Verb_CastAbility</verbClass>
          <warmupEffecter>Fire_Burst_Warmup</warmupEffecter>
          <warmupTime>1.5</warmupTime>
          <requireLineOfSight>false</requireLineOfSight>
          <range>12</range>
          <drawAimPie>false</drawAimPie>      
          <targetParams>
            <canTargetSelf>true</canTargetSelf>
          </targetParams>
        </verbProperties>
        <comps>
          <li Class="DragonianMix.CompProperties_AbilityDRM_FireBurst">
            <radius>12</radius>
          </li>
        </comps>
      </AbilityDef> 

      <AbilityDef ParentName="RoleAuraBuffBase">
        <defName>DRM_HealBreakOut</defName>
        <label>Heal BreakOut</label>
        <description>Overdrive orbs.Heal wound in insane speed.</description>
        <iconPath>UI/Abilities/ImmunityDrive</iconPath>
        <warmupMoteSocialSymbol>UI/Abilities/ImmunityDrive</warmupMoteSocialSymbol>
        <cooldownTicksRange>60000</cooldownTicksRange>
        <sendMessageOnCooldownComplete>true</sendMessageOnCooldownComplete>
        <aiCanUse>false</aiCanUse>
        <showCastingProgressBar>true</showCastingProgressBar>

        <displayGizmoWhileUndrafted>false</displayGizmoWhileUndrafted>
        <disableGizmoWhileUndrafted>true</disableGizmoWhileUndrafted>
        <statBases>
          <Ability_Duration>150</Ability_Duration>
          <Ability_EffectRadius>0</Ability_EffectRadius>
        </statBases>
        <verbProperties>
         <range>0</range>
        </verbProperties>
        <comps>
          <li Class="CompProperties_AbilityGiveHediff">
            <compClass>CompAbilityEffect_GiveHediff</compClass>
            <hediffDef>DRM_HealBreakOut</hediffDef>
            <onlyApplyToSelf>True</onlyApplyToSelf>
            <replaceExisting>true</replaceExisting>
          </li>
        </comps>
      </AbilityDef>

      <AbilityDef>
        <defName>DR_BattleStaffBurner</defName>
        <label>BattleStaff burner</label>
        <description>Use terra magic to create a massive cone of flame.</description>
        <iconPath>UI/Abilities/Burner</iconPath>
        <cooldownTicksRange>600</cooldownTicksRange>
        <aiCanUse>true</aiCanUse>
        <ai_IsIncendiary>true</ai_IsIncendiary>
        <warmupStartSound>FireSpew_Warmup</warmupStartSound>
        <verbProperties>
          <verbClass>Verb_CastAbility</verbClass>
          <range>22.9</range>
          <warmupTime>0.5</warmupTime>
          <soundCast>FireSpew_Resolve</soundCast>
          <targetParams>
            <canTargetLocations>true</canTargetLocations>
          </targetParams>
          <flammabilityAttachFireChanceCurve>
            <points>
              <li>(0.2, 0)</li>
              <li>(1, 1)</li>
            </points>
          </flammabilityAttachFireChanceCurve>
        </verbProperties>
        <comps>
          <li Class="CompProperties_AbilityFireSpew">
            <range>22.9</range>
            <lineWidthEnd>5</lineWidthEnd>
            <filthDef>Filth_Ash</filthDef>
            <damAmount>30</damAmount>
            <canHitFilledCells>true</canHitFilledCells>
          </li>
          <li Class="CompProperties_AbilityBurner">
            <numStreams>15</numStreams>
            <range>24</range> <!-- go a bit further than the actual ability range, since it's meant to be a noisy effect -->
            <coneSizeDegrees>12</coneSizeDegrees>
            <moteDef>Mote_IncineratorBurst</moteDef>
            <barrelOffsetDistance>6</barrelOffsetDistance>
            <sizeReductionDistanceThreshold>8</sizeReductionDistanceThreshold>
            <lifespanNoise>40</lifespanNoise>
            <rangeNoise>.4</rangeNoise>
            <effecterDef>BurnerUsed</effecterDef>
          </li>
        </comps>
      </AbilityDef>

</Defs>