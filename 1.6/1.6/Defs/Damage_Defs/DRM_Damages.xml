<?xml version="1.0" encoding="utf-8" ?>
<Defs>

	<!-- 旧的DRM_Frostbite已删除，使用DRM_Damage_Freeze替代 -->

	<DamageDef>
		<defName>DRM_Bomb</defName>
		<label>bomb</label>
		<workerClass>DamageWorker_AddInjury</workerClass>
		<externalViolence>true</externalViolence>
		<isExplosive>true</isExplosive>
		<deathMessage>{0} has died in an explosion.</deathMessage>
		<additionalHediffs>
			<li>
				<hediff>DRM_SlimeCoverd</hediff>
				<severityPerDamageDealt>0.01</severityPerDamageDealt>
				<inverseStatScaling>true</inverseStatScaling>
				<victimSeverityScalingByInvBodySize>true</victimSeverityScalingByInvBodySize>
			</li>
		</additionalHediffs>
		<hediff>Shredded</hediff>
		<hediffSolid>Crack</hediffSolid>
		<harmAllLayersUntilOutside>true</harmAllLayersUntilOutside>
		<impactSoundType>Blunt</impactSoundType>
		<armorCategory>Sharp</armorCategory>
		<minDamageToFragment>15</minDamageToFragment>
		<defaultDamage>20</defaultDamage>
		<defaultStoppingPower>0.5</defaultStoppingPower>
		<defaultArmorPenetration>0.10</defaultArmorPenetration>
		<buildingDamageFactorImpassable>4</buildingDamageFactorImpassable>
		<buildingDamageFactorPassable>2</buildingDamageFactorPassable>
		<plantDamageFactor>4</plantDamageFactor>
		<corpseDamageFactor>0.5</corpseDamageFactor>
		<explosionAffectOutsidePartsOnly>false</explosionAffectOutsidePartsOnly>
		<explosionHeatEnergyPerCell>5</explosionHeatEnergyPerCell>
		<explosionCellFleck>BlastDry</explosionCellFleck>
		<explosionColorCenter>(1, 0.5, 0.3)</explosionColorCenter>
		<explosionColorEdge>(0.6, 0.5, 0.4)</explosionColorEdge>
		<soundExplosion>Explosion_Bomb</soundExplosion>
		<combatLogRules>Damage_Bomb</combatLogRules>
	</DamageDef>

	<DamageDef>
		<defName>DRM_Bomb_mini</defName>
		<label>bomb</label>
		<workerClass>DamageWorker_AddInjury</workerClass>
		<externalViolence>true</externalViolence>
		<isExplosive>true</isExplosive>
		<deathMessage>{0} has died in an explosion.</deathMessage>
		<additionalHediffs>
			<li>
				<hediff>DRM_SlimeCoverd_mini</hediff>
				<severityPerDamageDealt>0.01</severityPerDamageDealt>
				<inverseStatScaling>true</inverseStatScaling>
				<victimSeverityScalingByInvBodySize>true</victimSeverityScalingByInvBodySize>
			</li>
		</additionalHediffs>
		<hediff>Shredded</hediff>
		<hediffSolid>Crack</hediffSolid>
		<harmAllLayersUntilOutside>true</harmAllLayersUntilOutside>
		<impactSoundType>Blunt</impactSoundType>
		<armorCategory>Sharp</armorCategory>
		<minDamageToFragment>15</minDamageToFragment>
		<defaultDamage>20</defaultDamage>
		<defaultStoppingPower>0.5</defaultStoppingPower>
		<defaultArmorPenetration>0.10</defaultArmorPenetration>
		<buildingDamageFactorImpassable>4</buildingDamageFactorImpassable>
		<buildingDamageFactorPassable>2</buildingDamageFactorPassable>
		<plantDamageFactor>4</plantDamageFactor>
		<corpseDamageFactor>0.5</corpseDamageFactor>
		<explosionAffectOutsidePartsOnly>false</explosionAffectOutsidePartsOnly>
		<explosionHeatEnergyPerCell>5</explosionHeatEnergyPerCell>
		<explosionCellFleck>BlastDry</explosionCellFleck>
		<explosionColorCenter>(1, 0.5, 0.3)</explosionColorCenter>
		<explosionColorEdge>(0.6, 0.5, 0.4)</explosionColorEdge>
		<soundExplosion>Explosion_Bomb</soundExplosion>
		<combatLogRules>Damage_Bomb</combatLogRules>
	</DamageDef>

	<!-- 旧的DRM_Damage_FrostCoverd和DRM_Damage_FrostCoverd_after已删除，使用DRM_Damage_Freeze替代 -->

	<DamageDef ParentName="Flame">
		<defName>DRM_Flame</defName>
		<label>Flame</label>
		<additionalHediffs>
			<li>
				<hediff>DRM_ArmorMeltdown</hediff>
				<severityPerDamageDealt>0.02</severityPerDamageDealt>
			</li>
		</additionalHediffs>
	</DamageDef>

	<DamageDef ParentName="Flame">
		<defName>DRM_Arc</defName>
		<label>Flame</label>
		<additionalHediffs>
			<li>
				<hediff>DRM_ElectricShock</hediff>
				<severityPerDamageDealt>0.02</severityPerDamageDealt>
			</li>
		</additionalHediffs>
		<causeStun>true</causeStun>
		<stunAdaptationTicks>120</stunAdaptationTicks>
	</DamageDef>

	<DamageDef>
		<defName>DRM_Rot</defName>
		<label>rotting</label>
		<additionalHediffs>
			<li>
				<hediff>DRM_NecroticVirus</hediff>
				<severityPerDamageDealt>0.04</severityPerDamageDealt>
			</li>
		</additionalHediffs>
		<hasForcefulImpact>false</hasForcefulImpact>
		<makesBlood>false</makesBlood>
		<canInterruptJobs>false</canInterruptJobs>
		<workerClass>DamageWorker_AddInjury</workerClass>
		<deathMessage>{0} died from metabolic disruptions caused by flesh rotten.</deathMessage>
		<hediff>DRM_Rotten</hediff>
	</DamageDef>

	<DamageDef ParentName="Flame">
		<defName>DRM_AcidBurn</defName>
		<label>acid burn</label>
		<additionalHediffs>
			<li>
				<hediff>DRM_AcidCorrosion</hediff>
				<severityPerDamageDealt>0.01</severityPerDamageDealt>
			</li>
		</additionalHediffs>
		<workerClass>DamageWorker_AddInjury</workerClass>
		<armorCategory>Sharp</armorCategory>
		<hediff>AcidBurn</hediff>
		<scaleDamageToBuildingsBasedOnFlammability>false</scaleDamageToBuildingsBasedOnFlammability>
	</DamageDef>

	<DamageDef ParentName="Flame">
		<defName>DRM_AcidCover</defName>
		<label>acid burn</label>
		<additionalHediffs>
			<li>
				<hediff>DRM_AcidCoverd</hediff>
				<severityPerDamageDealt>0.01</severityPerDamageDealt>
			</li>
		</additionalHediffs>
		<workerClass>DamageWorker_AddInjury</workerClass>
		<armorCategory>Sharp</armorCategory>
		<hediff>AcidBurn</hediff>
		<scaleDamageToBuildingsBasedOnFlammability>false</scaleDamageToBuildingsBasedOnFlammability>
	</DamageDef>

	<DamageDef ParentName="Flame">
		<defName>DRM_Damage_AcidCover_Ex</defName>
		<label>acid burn</label>
		<additionalHediffs>
			<li>
				<hediff>DRM_AcidCoverd_Ex</hediff>
				<severityPerDamageDealt>0.01</severityPerDamageDealt>
			</li>
			<li>
				<hediff>DRM_AcidCoverd</hediff>
				<severityPerDamageDealt>0.01</severityPerDamageDealt>
			</li>
		</additionalHediffs>
		<workerClass>DamageWorker_AddInjury</workerClass>
		<armorCategory>Sharp</armorCategory>
		<hediff>AcidBurn</hediff>
		<scaleDamageToBuildingsBasedOnFlammability>false</scaleDamageToBuildingsBasedOnFlammability>
	</DamageDef>

	<DamageDef>
		<defName>DRM_RangedStab</defName>
		<label>stab</label>
		<workerClass>DamageWorker_Stab</workerClass>
		<externalViolence>true</externalViolence>
		<deathMessage>{0} has been stabbed to death.</deathMessage>
		<hediff>Stab</hediff>
		<hediffSolid>Crack</hediffSolid>
		<impactSoundType>Slice</impactSoundType>
		<armorCategory>Sharp</armorCategory>
		<defaultArmorPenetration>0.5</defaultArmorPenetration>
		<overkillPctToDestroyPart>0~0.7</overkillPctToDestroyPart>
		<stabChanceOfForcedInternal>0.6</stabChanceOfForcedInternal>
		<isRanged>true</isRanged>
		<makesAnimalsFlee>true</makesAnimalsFlee>
	</DamageDef>

	<DamageDef>
		<defName>DRM_Thump</defName>
		<label>thump</label>
		<additionalHediffs>
			<li>
				<hediff>DRM_Stun</hediff>
				<severityPerDamageDealt>0.1</severityPerDamageDealt>
			</li>
		</additionalHediffs>
		<workerClass>DamageWorker_AddInjury</workerClass>
		<externalViolence>true</externalViolence>
		<isExplosive>true</isExplosive>
		<deathMessage>{0} has been shot to death.</deathMessage>
		<hediff>Crush</hediff>
		<hediffSolid>Crack</hediffSolid>
		<harmAllLayersUntilOutside>true</harmAllLayersUntilOutside>
		<impactSoundType>Blunt</impactSoundType>
		<armorCategory>Sharp</armorCategory>
		<minDamageToFragment>15</minDamageToFragment>
		<defaultDamage>5</defaultDamage>
		<defaultArmorPenetration>0</defaultArmorPenetration>
		<buildingDamageFactorImpassable>15</buildingDamageFactorImpassable>
		<buildingDamageFactorPassable>7.5</buildingDamageFactorPassable>
		<plantDamageFactor>4</plantDamageFactor>
		<explosionAffectOutsidePartsOnly>false</explosionAffectOutsidePartsOnly>
		<explosionCellFleck>BlastDry</explosionCellFleck>
		<explosionColorCenter>(0.73, 0.93, 0.96)</explosionColorCenter>
		<explosionColorEdge>(0.71, 0.82, 0.90)</explosionColorEdge>
		<soundExplosion>Explosion_Thump</soundExplosion>
		<combatLogRules>Damage_Bomb</combatLogRules>
	</DamageDef>

	<DamageDef>
		<defName>DRM_Feargas</defName>		<!-- independent -->
		<label>Fear gas</label>
		<workerClass>DragonianMix.DamageWorker_OPToxic</workerClass>
		<canInterruptJobs>false</canInterruptJobs>
		<makesBlood>false</makesBlood>
		<defaultDamage>0</defaultDamage>
		<explosionCellFleck>BlastExtinguisher</explosionCellFleck>
		<explosionColorEdge>(78,65,167,0.05)</explosionColorEdge>
		<soundExplosion>Explosion_Stun</soundExplosion>
		<harmsHealth>false</harmsHealth>
		<combatLogRules>Damage_Extinguish</combatLogRules>
	</DamageDef>

	<!-- ===== 即死冷冻伤害系统 - 从ArachnaeSwarm迁移 ===== -->
	<!-- 冷冻伤害本身的定义 -->
	<DamageDef Name="DRM_Damage_Freeze">
		<defName>DRM_Damage_Freeze</defName>
		<label>冷冻</label>
		<workerClass>DragonianMix.DamageWorker_InstaKill</workerClass>
		<externalViolence>true</externalViolence>
		<deathMessage>{0}的身体在极寒中化为了冰雕，随后碎裂四散。</deathMessage>
		<hediff>Frostbite</hediff>		<!-- 将伤害转化为冻伤Hediff -->
		<harmsHealth>false</harmsHealth>		<!-- 不造成常规生命值伤害 -->
		<armorCategory>Heat</armorCategory>		<!-- 可以被抗热/冷的护甲减免 -->
		<overkillPctToDestroyPart>0</overkillPctToDestroyPart>
		<defaultDamage>3</defaultDamage>
		<defaultArmorPenetration>1</defaultArmorPenetration>
		<buildingDamageFactorImpassable>0</buildingDamageFactorImpassable>
		<buildingDamageFactorPassable>0</buildingDamageFactorPassable>
		<explosionHeatEnergyPerCell>-15</explosionHeatEnergyPerCell>
		<explosionInteriorFleck>DRM_Fleck_Icez_Cloud</explosionInteriorFleck>
		<soundExplosion>Explosion_Stun</soundExplosion>
		<modExtensions>
			<li Class="DragonianMix.InstaKillExtension">
				<hediff>DRM_CryoShock</hediff>
				<requiredDamagePercentageCurve>
					<points>
						<li>(0.2, 0.8)</li>						<!-- 低严重性(0.2)时, 需要造成80%的伤害 -->
						<li>(0.35, 0.65)</li>
						<li>(0.5, 0.5)</li>
						<li>(0.65, 0.35)</li>
						<li>(0.85, 0.15)</li>
						<li>(1.25, 0.01)</li>
						<li>(2.5, 0.001)</li>						<!-- 高严重性时, 只需要造成极少的伤害 -->
					</points>
				</requiredDamagePercentageCurve>
				<destroyChance>0.25</destroyChance>
			</li>
		</modExtensions>
		<additionalHediffs>
			<li>
				<hediff>DRM_CryoShock</hediff>
				<severityPerDamageDealt>0.01</severityPerDamageDealt>
			</li>
		</additionalHediffs>
	</DamageDef>

	<!-- 带霜冻云爆炸效果的冷冻伤害变体 -->
	<DamageDef ParentName="DRM_Damage_Freeze">
		<defName>DRM_Damage_Freeze_ex</defName>
		<additionalHediffs>
			<li>
				<hediff>DRM_Hediff_FrostCoverd_after</hediff>
				<severityPerDamageDealt>0.01</severityPerDamageDealt>
				<inverseStatScaling>true</inverseStatScaling>
				<victimSeverityScalingByInvBodySize>true</victimSeverityScalingByInvBodySize>
			</li>
		</additionalHediffs>
	</DamageDef>

</Defs>