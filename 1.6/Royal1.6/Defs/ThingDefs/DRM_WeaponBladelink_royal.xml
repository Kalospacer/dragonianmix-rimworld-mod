<?xml version="1.0" encoding="utf-8" ?>
<Defs>

    <ThingDef Name="DRM_BaseWeapon_Bladelink" ParentName="BaseWeapon" Abstract="True">
        <techLevel>Ultra</techLevel>
        <tradeNeverStack>true</tradeNeverStack>
        <relicChance>3</relicChance>
        <weaponTags>
            <li>Bladelink</li>
        </weaponTags>
        <tradeTags>
            <li>WeaponMelee</li>
        </tradeTags>
        <weaponClasses>
            <li>Ultratech</li>
        </weaponClasses>
        <comps>
            <li>
                <compClass>CompQuality</compClass>
            </li>
            <li Class="CompProperties_BladelinkWeapon">
                <biocodeOnEquip>true</biocodeOnEquip>
            </li>
            <li Class="CompProperties_GeneratedName">
                <nameMaker>NamerWeaponBladelink</nameMaker>
            </li>
        </comps>
        <smeltable>true</smeltable>
        <burnableByRecipe>true</burnableByRecipe>
        <notifyMapRemoved>true</notifyMapRemoved>
        <thingCategories>
            <li>WeaponsMeleeBladelink</li>
        </thingCategories>
        <thingSetMakerTags>
            <li>WeaponBladelink</li>
        </thingSetMakerTags>
        <recipeMaker>
            <defaultIngredientFilter>
                <categories>
                    <li>Root</li>
                </categories>
                <disallowedThingDefs>
                    <li>Silver</li>
                    <li>Gold</li>
                </disallowedThingDefs>
            </defaultIngredientFilter>
        </recipeMaker>
    </ThingDef>

    <ThingDef ParentName="DRM_BaseWeapon_Bladelink">
        <defName>DR_BattleHammerBladelink</defName>
        <label>persona battle hammer</label>
        <description>A warhammer with an embedded EMP capacitor.  Upon impact, it releases an electric pulse to disable mechanical systems and unleashes chain lightning on nearby enemies. Its connection to Intelligence enhances the weapon, temporarily boosting the wielder's capabilities with each strike.
\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
        <statBases>
            <MarketValue>3000</MarketValue>
            <WorkToMake>30000</WorkToMake>
            <Mass>2</Mass>
        </statBases>
        <relicChance>2</relicChance>
        <soundInteract>Interact_BladelinkZeusHammer</soundInteract>
        <meleeHitSound>DRHammerSound</meleeHitSound>
        <smeltable>false</smeltable>
        <equippedAngleOffset>0</equippedAngleOffset>
        <graphicData>
            <texPath>Dragonian/Things/Weapon/DR_BattleHammer</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <shaderType>CutoutComplex</shaderType>
        </graphicData>
        <uiIconScale>1</uiIconScale>
        <weaponTags>
            <li>DR_BattleHammer</li>
        </weaponTags>
        <tools>
            <li>
                <label>handle</label>
                <capacities>
                    <li>Poke</li>
                </capacities>
                <power>17</power>
                <extraMeleeDamages>
                    <li>
                        <def>EMP</def>
                        <amount>5</amount>
                    </li>
                </extraMeleeDamages>
                <cooldownTime>1.5</cooldownTime>
                <chanceFactor>1</chanceFactor>
            </li>
            <li>
                <label>head</label>
                <labelUsedInLogging>false</labelUsedInLogging>
                <capacities>
                    <li>DRM_HummerSmash</li>
                </capacities>
                <power>25</power>
                <cooldownTime>2.5</cooldownTime>
                <extraMeleeDamages>
                    <li>
                        <def>DRM_Arc</def>
                        <amount>14</amount>
                    </li>
                    <li>
                        <def>EMP</def>
                        <amount>15</amount>
                    </li>
                </extraMeleeDamages>
                <chanceFactor>10</chanceFactor>
            </li>
        </tools>
        <comps>
            <li>
                <compClass>CompQuality</compClass>
            </li>
            <li Class="DragonianMix.CompPropertiesScarletSickle_Data">
                <sputteringRange>5</sputteringRange>
                <sputteringNumber>5</sputteringNumber>
                <sputteringDamageAmount>25</sputteringDamageAmount>
                <sputteringDamage>DRM_Arc</sputteringDamage>
                <hitHediff>DRM_AwakenHeart</hitHediff>
                <hitHediffSeverity>0.5</hitHediffSeverity>
            </li>
            <li Class="DragonianMix.CompProperties_CustomUniqueWeapon">
				<forcedTraits>
					<li>LightningElement</li>
                    <li>DRM_SplitAttack</li>
                    <li>DRM_CombatEndurance</li>
				</forcedTraits>
				<numTraitsRange>
					<min>3</min>
					<max>3</max>
				</numTraitsRange>
			</li>
        </comps>
        <costStuffCount>400</costStuffCount>
        <stuffCategories>
            <li>Metallic</li>
        </stuffCategories>
        <costList>
            <AIPersonaCore>1</AIPersonaCore>
            <WoolDragonian>400</WoolDragonian>
            <ComponentSpacer>5</ComponentSpacer>
        </costList>
        <recipeMaker>
            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
            <workSkill>Crafting</workSkill>
            <effectWorking>Smith</effectWorking>
            <soundWorking>Recipe_Smith</soundWorking>
            <researchPrerequisite>DragonianPersonaWeapon</researchPrerequisite>
            <skillRequirements>
                <Crafting>10</Crafting>
            </skillRequirements>
            <recipeUsers>
                <li>ElectricSmithy</li>
                <li>FueledSmithy</li>
            </recipeUsers>
            <unfinishedThingDef>UnfinishedWeapon</unfinishedThingDef>
        </recipeMaker>
    </ThingDef>

    <ThingDef ParentName="DRM_BaseWeapon_Bladelink">
        <defName>DR_BattleHammerBladelink_Ex</defName>
        <label>persona Explosive battle hammer</label>
        <description>A warhammer with an embedded EMP capacitor.  Upon impact, it releases explosive slime on nearby enemies. Its connection to Intelligence enhances the weapon, temporarily boosting the wielder's capabilities with each strike.
\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
        <statBases>
            <MarketValue>3000</MarketValue>
            <WorkToMake>30000</WorkToMake>
            <Mass>2</Mass>
        </statBases>
        <relicChance>2</relicChance>
        <soundInteract>Interact_BladelinkZeusHammer</soundInteract>
        <meleeHitSound>DRHammerSound</meleeHitSound>
        <smeltable>false</smeltable>
        <equippedAngleOffset>0</equippedAngleOffset>
        <graphicData>
            <texPath>Dragonian/Things/Weapon/DR_BattleHammer</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <shaderType>CutoutComplex</shaderType>
        </graphicData>
        <uiIconScale>1</uiIconScale>
        <weaponTags>
            <li>DR_BattleHammer</li>
        </weaponTags>
        <tools>
            <li>
                <label>handle</label>
                <capacities>
                    <li>Poke</li>
                </capacities>
                <power>17</power>
                <cooldownTime>1.5</cooldownTime>
                <chanceFactor>1</chanceFactor>
            </li>
            <li>
                <label>head</label>
                <labelUsedInLogging>false</labelUsedInLogging>
                <capacities>
                    <li>DRM_HummerSmash</li>
                </capacities>
                <power>20</power>
                <cooldownTime>2.5</cooldownTime>
                <extraMeleeDamages>
                    <li>
                        <def>DRM_Bomb</def>
                        <amount>20</amount>
                    </li>
                    <li>
                        <def>Stun</def>
                        <amount>11</amount>
                    </li>
                </extraMeleeDamages>
                <chanceFactor>10</chanceFactor>
            </li>
        </tools>
        <comps>
            <li Class="DragonianMix.CompPropertiesScarletSickle_Data">
                <sputteringRange>3</sputteringRange>
                <sputteringNumber>5</sputteringNumber>
                <sputteringDamageAmount>20</sputteringDamageAmount>
                <sputteringDamage>DRM_Bomb</sputteringDamage>
                <hitHediff>DRM_AwakenHeart</hitHediff>
                <hitHediffSeverity>0.5</hitHediffSeverity>
            </li>
            <li Class="DragonianMix.CompProperties_CustomUniqueWeapon">
				<forcedTraits>
					<li>DRM_SlimeAdhesion</li>
                    <li>DRM_SplitAttack</li>
                    <li>DRM_CombatEndurance</li>
				</forcedTraits>
				<numTraitsRange>
					<min>3</min>
					<max>3</max>
				</numTraitsRange>
			</li>
        </comps>
        <costStuffCount>400</costStuffCount>
        <stuffCategories>
            <li>Metallic</li>
        </stuffCategories>
        <costList>
            <AIPersonaCore>1</AIPersonaCore>
            <WoolDragonian>400</WoolDragonian>
            <ComponentSpacer>5</ComponentSpacer>
        </costList>
        <recipeMaker>
            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
            <workSkill>Crafting</workSkill>
            <effectWorking>Smith</effectWorking>
            <soundWorking>Recipe_Smith</soundWorking>
            <researchPrerequisite>DragonianPersonaWeapon</researchPrerequisite>
            <skillRequirements>
                <Crafting>10</Crafting>
            </skillRequirements>
            <recipeUsers>
                <li>ElectricSmithy</li>
                <li>FueledSmithy</li>
            </recipeUsers>
            <unfinishedThingDef>UnfinishedWeapon</unfinishedThingDef>
        </recipeMaker>
    </ThingDef>

    <ManeuverDef>
        <defName>Smash_DR_BattleHammer</defName>
        <requiredCapacity>DRM_HummerSmash</requiredCapacity>
        <verb>
            <verbClass>DragonianMix.Verb_MeleeAttack_ScarletSickle</verbClass>
            <meleeDamageDef>Blunt</meleeDamageDef>
        </verb>
        <logEntryDef>MeleeAttack</logEntryDef>
        <combatLogRulesHit>Maneuver_Smash_MeleeHit</combatLogRulesHit>
        <combatLogRulesDeflect>Maneuver_Smash_MeleeDeflect</combatLogRulesDeflect>
        <combatLogRulesMiss>Maneuver_Smash_MeleeMiss</combatLogRulesMiss>
        <combatLogRulesDodge>Maneuver_Smash_MeleeDodge</combatLogRulesDodge>
    </ManeuverDef>

    <ToolCapacityDef>
        <defName>DRM_HummerSmash</defName>
        <label>Blunt</label>
    </ToolCapacityDef>
</Defs>
